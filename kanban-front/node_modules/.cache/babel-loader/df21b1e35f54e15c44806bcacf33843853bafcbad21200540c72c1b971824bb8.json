{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Desktop\\\\kanbanapp\\\\kanban-front\\\\src\\\\Components\\\\Card\\\\CardInfo\\\\CardInfo.js\",\n  _s = $RefreshSig$();\n// src/Components/CardInfo/CardInfo.js\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { X } from \"react-feather\";\nimport { Plus, Trash, Clock } from \"lucide-react\";\nimport Modal from \"../../Modal/Modal\";\nimport Editable from \"../../Editabled/Editable\";\nimport \"./CardInfo.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CardInfo(props) {\n  _s();\n  const addTaskRef = useRef(null);\n  const {\n    id,\n    title,\n    description,\n    date,\n    // исходное поле с датой завершения\n    labels,\n    tasks,\n    status,\n    startDate: initStart\n  } = props.card;\n  const [localValues, setLocalValues] = useState({\n    title: title || \"\",\n    description: description || \"\",\n    status: status || \"На проверке\",\n    startDate: initStart || new Date().toISOString().split(\"T\")[0],\n    dueDate: date || \"\",\n    priority: \"Неизвестно\",\n    labels: labels || [],\n    tasks: tasks || []\n  });\n\n  // сохранить изменения с дебаунсом\n  useEffect(() => {\n    const debounced = debounce(() => {\n      props.updateCard(props.boardId, id, {\n        ...props.card,\n        ...localValues,\n        date: localValues.dueDate\n      });\n    }, 500);\n    debounced();\n    return () => {\n      debounced.flush();\n      debounced.cancel();\n    };\n  }, [localValues]);\n\n  // пересчет приоритета\n  const computePriority = (start, due) => {\n    if (!due) return \"Неизвестно\";\n    const sd = new Date(start),\n      dd = new Date(due);\n    const diff = (dd - sd) / (1000 * 60 * 60 * 24);\n    if (diff <= 3) return \"Срочный\";\n    if (diff <= 7) return \"Высокий\";\n    if (diff <= 14) return \"Средний\";\n    return \"Низкий\";\n  };\n  useEffect(() => {\n    const p = computePriority(localValues.startDate, localValues.dueDate);\n    if (p !== localValues.priority) {\n      setLocalValues(v => ({\n        ...v,\n        priority: p\n      }));\n    }\n  }, [localValues.startDate, localValues.dueDate]);\n\n  // обновление дат\n  const updateStartDate = v => setLocalValues(p => ({\n    ...p,\n    startDate: v\n  }));\n  const updateDueDate = v => setLocalValues(p => ({\n    ...p,\n    dueDate: v\n  }));\n\n  // стили статуса/приоритета\n  const getStatusStyles = val => {\n    switch (val) {\n      case \"Очередь\":\n        return {\n          backgroundColor: \"var(--yellow-300)\",\n          color: \"var(--yellow-700)\"\n        };\n      case \"В работе\":\n        return {\n          backgroundColor: \"var(--blue-300)\",\n          color: \"var(--blue-700)\"\n        };\n      case \"На проверке\":\n      case \"Срочный\":\n        return {\n          backgroundColor: \"var(--red-300)\",\n          color: \"var(--red-700)\"\n        };\n      case \"Высокий\":\n        return {\n          backgroundColor: \"var(--yellow-300)\",\n          color: \"var(--yellow-700)\"\n        };\n      case \"Средний\":\n        return {\n          backgroundColor: \"var(--blue-300)\",\n          color: \"var(--blue-700)\"\n        };\n      case \"Низкий\":\n        return {\n          backgroundColor: \"var(--green-300)\",\n          color: \"var(--green-700)\"\n        };\n      case \"Готово\":\n        return {\n          backgroundColor: \"var(--green-300)\",\n          color: \"var(--green-700)\"\n        };\n      default:\n        return {\n          backgroundColor: \"var(--secondary-background)\",\n          color: \"var(--text-muted)\"\n        };\n    }\n  };\n\n  // теги\n  const [newLabelText, setNewLabelText] = useState(\"\");\n  const [selectedColor, setSelectedColor] = useState(\"\");\n  const [labelError, setLabelError] = useState(\"\");\n  const addLabel = () => {\n    if (!newLabelText.trim()) return;\n    if (!selectedColor) {\n      setLabelError(\"Выберите цвет тега\");\n      return;\n    }\n    const lab = {\n      text: newLabelText.trim(),\n      color: selectedColor\n    };\n    setLocalValues(v => ({\n      ...v,\n      labels: [...v.labels, lab]\n    }));\n    setNewLabelText(\"\");\n    setSelectedColor(\"\");\n    setLabelError(\"\");\n  };\n  const removeLabel = idx => {\n    const updated = [...localValues.labels];\n    updated.splice(idx, 1);\n    setLocalValues(v => ({\n      ...v,\n      labels: updated\n    }));\n  };\n\n  // чеклист\n  const [taskKey, setTaskKey] = useState(0);\n  const addTask = text => {\n    const t = text.trim();\n    if (!t) return;\n\n    // 1) добавляем задачу\n    const newTask = {\n      id: Date.now() + Math.random(),\n      text: t,\n      completed: false\n    };\n    setLocalValues(v => ({\n      ...v,\n      tasks: [...v.tasks, newTask]\n    }));\n\n    // 2) обнуляем поле и возвращаем ему фокус\n    setTimeout(() => {\n      if (addTaskRef.current) {\n        addTaskRef.current.value = \"\"; // <-- Сбрасываем текст\n        addTaskRef.current.focus(); // <-- И возвращаем туда фокус\n      }\n    }, 0);\n  };\n  const toggleTask = id => {\n    const updated = localValues.tasks.map(t => t.id === id ? {\n      ...t,\n      completed: !t.completed\n    } : t);\n    setLocalValues(v => ({\n      ...v,\n      tasks: updated\n    }));\n  };\n  const removeTask = id => {\n    // 1) пометить таску «на удаление»\n    setLocalValues(v => ({\n      ...v,\n      tasks: v.tasks.map(t => t.id === id ? {\n        ...t,\n        isRemoving: true\n      } : t)\n    }));\n    // 2) через 300ms окончательно убрать\n    setTimeout(() => {\n      setLocalValues(v => ({\n        ...v,\n        tasks: v.tasks.filter(t => t.id !== id)\n      }));\n    }, 300);\n  };\n  const tasksCount = localValues.tasks.length;\n  const tasksCompleted = localValues.tasks.filter(t => t.completed).length;\n  const progressPercent = tasksCount ? Math.round(tasksCompleted / tasksCount * 100) : 0;\n  let progressColor = \"#e74c3c\"; // <33% — красный\n  if (progressPercent >= 33 && progressPercent <= 50) {\n    progressColor = \"#f1c40f\"; // 33–50% — жёлтый\n  } else if (progressPercent > 50 && progressPercent < 100) {\n    progressColor = \"#3498db\"; // 51–99% — синий\n  } else if (progressPercent === 100) {\n    progressColor = \"#2ecc71\"; // 100% — зелёный\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: props.onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cardinfo_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_close-btn\",\n        onClick: props.onClose,\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"cardinfo_title--static\",\n        children: localValues.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"cardinfo_description--static\",\n        children: localValues.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_table-fields\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_label\",\n            children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_value cardinfo_static-value\",\n            style: getStatusStyles(localValues.status),\n            children: localValues.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_label\",\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_value date-picker\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: localValues.startDate,\n              onChange: e => updateStartDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_label\",\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_value date-picker\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: localValues.dueDate,\n              onChange: e => updateDueDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_label\",\n            children: \"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_value cardinfo_static-value\",\n            style: getStatusStyles(localValues.priority),\n            children: [localValues.priority === \"Срочный\" && /*#__PURE__*/_jsxDEV(Clock, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 54\n            }, this), localValues.priority]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-tags\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_label\",\n            children: \"\\u0422\\u0435\\u0433\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row_value cardinfo_tags\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardinfo_label-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"editable_input\",\n                type: \"text\",\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u0433\",\n                value: newLabelText,\n                onChange: e => {\n                  setNewLabelText(e.target.value);\n                  setLabelError(\"\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cardinfo_label-colors\",\n                children: [\"yellow\", \"blue\", \"green\", \"red\"].map(color => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `cardinfo_color-circle${selectedColor === color ? \" selected\" : \"\"}`,\n                  style: {\n                    backgroundColor: `var(--${color}-300)`\n                  },\n                  onClick: () => {\n                    setSelectedColor(color);\n                    setLabelError(\"\");\n                  }\n                }, color, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-add\",\n                onClick: addLabel,\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 18\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), labelError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"label-error\",\n              children: labelError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardinfo_labels-list\",\n              children: localValues.labels.map((lab, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cardinfo_label-pill\",\n                style: {\n                  color: `var(--${lab.color}-700)`,\n                  backgroundColor: `var(--${lab.color}-300)`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: lab.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Trash, {\n                  className: \"cardinfo_label-remove\",\n                  size: 14,\n                  onClick: () => removeLabel(i)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cardinfo_tab-active\",\n          children: \"\\u0427\\u0435\\u043A\\u043B\\u0438\\u0441\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cardinfo_tab\",\n          children: \"\\u0424\\u0430\\u0439\\u043B\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cardinfo_tab\",\n          children: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"cardinfo_tab\",\n          children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_checklist-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\u0427\\u0435\\u043A\\u043B\\u0438\\u0441\\u0442 (\", tasksCompleted, \"/\", tasksCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cardinfo_progress-fill\",\n          style: {\n            width: `${progressPercent}%`,\n            backgroundColor: progressColor\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardinfo_tasks\",\n        children: localValues.tasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `cardinfo_task-item${task.isRemoving ? \" removing\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"custom-checkbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: task.completed,\n              onChange: () => toggleTask(task.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `task-text${task.completed ? ' completed' : ''}`,\n            children: task.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Trash, {\n            className: \"cardinfo_task-remove\",\n            size: 14,\n            onClick: () => removeTask(task.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editable, {\n        ref: addTaskRef,\n        defaultValue: \"\",\n        placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\",\n        onSubmit: addTask,\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n_s(CardInfo, \"VoVGdaF365fo7WH6bLi6nsRcCQE=\");\n_c = CardInfo;\nexport default CardInfo;\nvar _c;\n$RefreshReg$(_c, \"CardInfo\");","map":{"version":3,"names":["React","useEffect","useState","useRef","debounce","X","Plus","Trash","Clock","Modal","Editable","jsxDEV","_jsxDEV","CardInfo","props","_s","addTaskRef","id","title","description","date","labels","tasks","status","startDate","initStart","card","localValues","setLocalValues","Date","toISOString","split","dueDate","priority","debounced","updateCard","boardId","flush","cancel","computePriority","start","due","sd","dd","diff","p","v","updateStartDate","updateDueDate","getStatusStyles","val","backgroundColor","color","newLabelText","setNewLabelText","selectedColor","setSelectedColor","labelError","setLabelError","addLabel","trim","lab","text","removeLabel","idx","updated","splice","taskKey","setTaskKey","addTask","t","newTask","now","Math","random","completed","setTimeout","current","value","focus","toggleTask","map","removeTask","isRemoving","filter","tasksCount","length","tasksCompleted","progressPercent","round","progressColor","onClose","children","className","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","style","type","onChange","e","target","placeholder","i","width","task","checked","ref","defaultValue","onSubmit","autoFocus","_c","$RefreshReg$"],"sources":["C:/Users/aleks/Desktop/kanbanapp/kanban-front/src/Components/Card/CardInfo/CardInfo.js"],"sourcesContent":["// src/Components/CardInfo/CardInfo.js\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { X } from \"react-feather\";\nimport { Plus, Trash, Clock } from \"lucide-react\";\n\nimport Modal from \"../../Modal/Modal\";\nimport Editable from \"../../Editabled/Editable\";\nimport \"./CardInfo.css\";\n\n\n\nfunction CardInfo(props) {\n  const addTaskRef = useRef(null);\n  const {\n    id,\n    title,\n    description,\n    date,        // исходное поле с датой завершения\n    labels,\n    tasks,\n    status,\n    startDate: initStart,\n  } = props.card;\n\n  const [localValues, setLocalValues] = useState({\n    title: title || \"\",\n    description: description || \"\",\n    status: status || \"На проверке\",\n    startDate: initStart || new Date().toISOString().split(\"T\")[0],\n    dueDate: date || \"\",\n    priority: \"Неизвестно\",\n    labels: labels || [],\n    tasks: tasks || [],\n  });\n\n  // сохранить изменения с дебаунсом\n  useEffect(() => {\n    const debounced = debounce(() => {\n      props.updateCard(\n        props.boardId,\n        id,\n        { ...props.card, ...localValues, date: localValues.dueDate }\n      );\n    }, 500);\n    debounced();\n    return () => {\n      debounced.flush();\n      debounced.cancel();\n    };\n  }, [localValues]);\n\n  // пересчет приоритета\n  const computePriority = (start, due) => {\n    if (!due) return \"Неизвестно\";\n    const sd = new Date(start), dd = new Date(due);\n    const diff = (dd - sd) / (1000 * 60 * 60 * 24);\n    if (diff <= 3) return \"Срочный\";\n    if (diff <= 7) return \"Высокий\";\n    if (diff <= 14) return \"Средний\";\n    return \"Низкий\";\n  };\n  useEffect(() => {\n    const p = computePriority(localValues.startDate, localValues.dueDate);\n    if (p !== localValues.priority) {\n      setLocalValues(v => ({ ...v, priority: p }));\n    }\n  }, [localValues.startDate, localValues.dueDate]);\n\n  // обновление дат\n  const updateStartDate = v => setLocalValues(p => ({ ...p, startDate: v }));\n  const updateDueDate   = v => setLocalValues(p => ({ ...p, dueDate: v }));\n\n  // стили статуса/приоритета\n  const getStatusStyles = val => {\n    switch (val) {\n      case \"Очередь\":     return { backgroundColor: \"var(--yellow-300)\", color: \"var(--yellow-700)\" };\n      case \"В работе\":    return { backgroundColor: \"var(--blue-300)\",   color: \"var(--blue-700)\" };\n      case \"На проверке\":\n      case \"Срочный\":     return { backgroundColor: \"var(--red-300)\",    color: \"var(--red-700)\" };\n      case \"Высокий\":     return { backgroundColor: \"var(--yellow-300)\", color: \"var(--yellow-700)\" };\n      case \"Средний\":     return { backgroundColor: \"var(--blue-300)\",   color: \"var(--blue-700)\" };\n      case \"Низкий\":      return { backgroundColor: \"var(--green-300)\",  color: \"var(--green-700)\" };\n      case \"Готово\":      return { backgroundColor: \"var(--green-300)\",  color: \"var(--green-700)\" };\n      default:            return { backgroundColor: \"var(--secondary-background)\", color: \"var(--text-muted)\" };\n    }\n  };\n\n  // теги\n  const [newLabelText, setNewLabelText]   = useState(\"\");\n  const [selectedColor, setSelectedColor] = useState(\"\");\n  const [labelError, setLabelError]       = useState(\"\");\n\n  const addLabel = () => {\n    if (!newLabelText.trim()) return;\n    if (!selectedColor) {\n      setLabelError(\"Выберите цвет тега\");\n      return;\n    }\n    const lab = { text: newLabelText.trim(), color: selectedColor };\n    setLocalValues(v => ({ ...v, labels: [...v.labels, lab] }));\n    setNewLabelText(\"\");\n    setSelectedColor(\"\");\n    setLabelError(\"\");\n  };\n\n  const removeLabel = idx => {\n    const updated = [...localValues.labels];\n    updated.splice(idx, 1);\n    setLocalValues(v => ({ ...v, labels: updated }));\n  };\n\n  // чеклист\n  const [taskKey, setTaskKey] = useState(0);\n\n const addTask = text => {\n  const t = text.trim();\n  if (!t) return;\n\n  // 1) добавляем задачу\n  const newTask = { id: Date.now() + Math.random(), text: t, completed: false };\n  setLocalValues(v => ({ ...v, tasks: [...v.tasks, newTask] }));\n\n  // 2) обнуляем поле и возвращаем ему фокус\n  setTimeout(() => {\n    if (addTaskRef.current) {\n      addTaskRef.current.value = \"\";  // <-- Сбрасываем текст\n      addTaskRef.current.focus();     // <-- И возвращаем туда фокус\n    }\n  }, 0);\n};\n\n  const toggleTask = id => {\n    const updated = localValues.tasks.map(t =>\n      t.id === id ? { ...t, completed: !t.completed } : t\n    );\n    setLocalValues(v => ({ ...v, tasks: updated }));\n  };\n\n const removeTask = id => {\n    // 1) пометить таску «на удаление»\n    setLocalValues(v => ({\n      ...v,\n      tasks: v.tasks.map(t =>\n        t.id === id ? { ...t, isRemoving: true } : t\n      )\n    }));\n    // 2) через 300ms окончательно убрать\n    setTimeout(() => {\n      setLocalValues(v => ({\n        ...v,\n        tasks: v.tasks.filter(t => t.id !== id)\n      }));\n    }, 300);\n  };\n\n  const tasksCount     = localValues.tasks.length;\n  const tasksCompleted = localValues.tasks.filter(t => t.completed).length;\n  const progressPercent= tasksCount ? Math.round(tasksCompleted / tasksCount * 100) : 0;\n\n let progressColor = \"#e74c3c\"; // <33% — красный\nif (progressPercent >= 33 && progressPercent <= 50) {\n  progressColor = \"#f1c40f\";  // 33–50% — жёлтый\n} else if (progressPercent > 50 && progressPercent < 100) {\n  progressColor = \"#3498db\";  // 51–99% — синий\n} else if (progressPercent === 100) {\n  progressColor = \"#2ecc71\";  // 100% — зелёный\n}\n\n\n  return (\n    <Modal onClose={props.onClose}>\n      <div className=\"cardinfo_container\">\n        <div className=\"cardinfo_close-btn\" onClick={props.onClose}>\n          <X size={24} />\n        </div>\n\n        {/* Заголовок и описание */}\n        <h2 className=\"cardinfo_title--static\">{localValues.title}</h2>\n        <p className=\"cardinfo_description--static\">{localValues.description}</p>\n\n        {/* Основные поля */}\n        <div className=\"cardinfo_table-fields\">\n          {/* Статус */}\n          <div className=\"row\">\n            <div className=\"row_label\">Статус</div>\n            <div\n              className=\"row_value cardinfo_static-value\"\n              style={getStatusStyles(localValues.status)}\n            >\n              {localValues.status}\n            </div>\n          </div>\n\n          {/* Дата начала */}\n          <div className=\"row row-date\">\n            <div className=\"row_label\">Дата начала</div>\n            <div className=\"row_value date-picker\">\n              <input\n                type=\"date\"\n                value={localValues.startDate}\n                onChange={e => updateStartDate(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {/* Дата завершения */}\n          <div className=\"row row-date\">\n            <div className=\"row_label\">Дата завершения</div>\n            <div className=\"row_value date-picker\">\n              <input\n                type=\"date\"\n                value={localValues.dueDate}\n                onChange={e => updateDueDate(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {/* Приоритет */}\n          <div className=\"row\">\n            <div className=\"row_label\">Приоритет</div>\n            <div\n              className=\"row_value cardinfo_static-value\"\n              style={getStatusStyles(localValues.priority)}\n            >\n              {localValues.priority === \"Срочный\" && <Clock size={14} />}\n              {localValues.priority}\n            </div>\n          </div>\n\n          {/* Теги */}\n          <div className=\"row row-tags\">\n            <div className=\"row_label\">Теги</div>\n            <div className=\"row_value cardinfo_tags\">\n              <div className=\"cardinfo_label-input\">\n                <input\n                  className=\"editable_input\"\n                  type=\"text\"\n                  placeholder=\"Введите тег\"\n                  value={newLabelText}\n                  onChange={e => {\n                    setNewLabelText(e.target.value);\n                    setLabelError(\"\");\n                  }}\n                />\n                <div className=\"cardinfo_label-colors\">\n                  {[\"yellow\", \"blue\", \"green\", \"red\"].map(color => (\n                    <div\n                      key={color}\n                      className={`cardinfo_color-circle${selectedColor === color ? \" selected\" : \"\"}`}\n                      style={{ backgroundColor: `var(--${color}-300)` }}\n                      onClick={() => {\n                        setSelectedColor(color);\n                        setLabelError(\"\");\n                      }}\n                    />\n                  ))}\n                </div>\n                 <button className=\"btn-add\" onClick={addLabel}>\n   Добавить \n   </button>\n              </div>\n              {labelError && <div className=\"label-error\">{labelError}</div>}\n              <div className=\"cardinfo_labels-list\">\n                {localValues.labels.map((lab, i) => (\n                  <div\n                    key={i}\n                    className=\"cardinfo_label-pill\"\n                    style={{\n                      color: `var(--${lab.color}-700)`,\n                      backgroundColor: `var(--${lab.color}-300)`,\n                    }}\n                  >\n                    <span>{lab.text}</span>\n                    <Trash\n                      className=\"cardinfo_label-remove\"\n                      size={14}\n                      onClick={() => removeLabel(i)}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Вкладки */}\n        <div className=\"cardinfo_tabs\">\n          <span className=\"cardinfo_tab-active\">Чеклист</span>\n          <span className=\"cardinfo_tab\">Файлы</span>\n          <span className=\"cardinfo_tab\">Комментарии</span>\n          <span className=\"cardinfo_tab\">Активность</span>\n        </div>\n\n        {/* Чеклист */}\n        <div className=\"cardinfo_checklist-header\">\n          <h3>Чеклист ({tasksCompleted}/{tasksCount})</h3>\n        </div>\n        <div className=\"cardinfo_progress-bar\">\n          <div\n            className=\"cardinfo_progress-fill\"\n            style={{ width: `${progressPercent}%`, backgroundColor: progressColor }}\n          />\n        </div>\n        <div className=\"cardinfo_tasks\">\n          {localValues.tasks.map(task => (\n            <div\n  key={task.id}\n  className={`cardinfo_task-item${task.isRemoving ? \" removing\" : \"\"}`}\n>\n              <label className=\"custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  checked={task.completed}\n                  onChange={() => toggleTask(task.id)}\n                />\n                <span className=\"checkmark\" />\n              </label>\n                <span className={`task-text${task.completed ? ' completed' : ''}`}>\n      {task.text}\n     </span>\n              <Trash\n                className=\"cardinfo_task-remove\"\n                size={14}\n                onClick={() => removeTask(task.id)}\n              />\n            </div>\n          ))}\n        </div>\n\n        {/* Добавить задачу */}\n         <Editable\n        ref={addTaskRef}\n        defaultValue=\"\"\n        placeholder=\"Добавить задачу\"\n        onSubmit={addTask}\n        autoFocus\n      />\n      </div>\n    </Modal>\n  );\n}\n\nexport default CardInfo;\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,SAASC,CAAC,QAAQ,eAAe;AACjC,SAASC,IAAI,EAAEC,KAAK,EAAEC,KAAK,QAAQ,cAAc;AAEjD,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIxB,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACvB,MAAMC,UAAU,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAM;IACJc,EAAE;IACFC,KAAK;IACLC,WAAW;IACXC,IAAI;IAAS;IACbC,MAAM;IACNC,KAAK;IACLC,MAAM;IACNC,SAAS,EAAEC;EACb,CAAC,GAAGX,KAAK,CAACY,IAAI;EAEd,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC;IAC7CgB,KAAK,EAAEA,KAAK,IAAI,EAAE;IAClBC,WAAW,EAAEA,WAAW,IAAI,EAAE;IAC9BI,MAAM,EAAEA,MAAM,IAAI,aAAa;IAC/BC,SAAS,EAAEC,SAAS,IAAI,IAAII,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9DC,OAAO,EAAEZ,IAAI,IAAI,EAAE;IACnBa,QAAQ,EAAE,YAAY;IACtBZ,MAAM,EAAEA,MAAM,IAAI,EAAE;IACpBC,KAAK,EAAEA,KAAK,IAAI;EAClB,CAAC,CAAC;;EAEF;EACArB,SAAS,CAAC,MAAM;IACd,MAAMiC,SAAS,GAAG9B,QAAQ,CAAC,MAAM;MAC/BU,KAAK,CAACqB,UAAU,CACdrB,KAAK,CAACsB,OAAO,EACbnB,EAAE,EACF;QAAE,GAAGH,KAAK,CAACY,IAAI;QAAE,GAAGC,WAAW;QAAEP,IAAI,EAAEO,WAAW,CAACK;MAAQ,CAC7D,CAAC;IACH,CAAC,EAAE,GAAG,CAAC;IACPE,SAAS,CAAC,CAAC;IACX,OAAO,MAAM;MACXA,SAAS,CAACG,KAAK,CAAC,CAAC;MACjBH,SAAS,CAACI,MAAM,CAAC,CAAC;IACpB,CAAC;EACH,CAAC,EAAE,CAACX,WAAW,CAAC,CAAC;;EAEjB;EACA,MAAMY,eAAe,GAAGA,CAACC,KAAK,EAAEC,GAAG,KAAK;IACtC,IAAI,CAACA,GAAG,EAAE,OAAO,YAAY;IAC7B,MAAMC,EAAE,GAAG,IAAIb,IAAI,CAACW,KAAK,CAAC;MAAEG,EAAE,GAAG,IAAId,IAAI,CAACY,GAAG,CAAC;IAC9C,MAAMG,IAAI,GAAG,CAACD,EAAE,GAAGD,EAAE,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IAC9C,IAAIE,IAAI,IAAI,CAAC,EAAE,OAAO,SAAS;IAC/B,IAAIA,IAAI,IAAI,CAAC,EAAE,OAAO,SAAS;IAC/B,IAAIA,IAAI,IAAI,EAAE,EAAE,OAAO,SAAS;IAChC,OAAO,QAAQ;EACjB,CAAC;EACD3C,SAAS,CAAC,MAAM;IACd,MAAM4C,CAAC,GAAGN,eAAe,CAACZ,WAAW,CAACH,SAAS,EAAEG,WAAW,CAACK,OAAO,CAAC;IACrE,IAAIa,CAAC,KAAKlB,WAAW,CAACM,QAAQ,EAAE;MAC9BL,cAAc,CAACkB,CAAC,KAAK;QAAE,GAAGA,CAAC;QAAEb,QAAQ,EAAEY;MAAE,CAAC,CAAC,CAAC;IAC9C;EACF,CAAC,EAAE,CAAClB,WAAW,CAACH,SAAS,EAAEG,WAAW,CAACK,OAAO,CAAC,CAAC;;EAEhD;EACA,MAAMe,eAAe,GAAGD,CAAC,IAAIlB,cAAc,CAACiB,CAAC,KAAK;IAAE,GAAGA,CAAC;IAAErB,SAAS,EAAEsB;EAAE,CAAC,CAAC,CAAC;EAC1E,MAAME,aAAa,GAAKF,CAAC,IAAIlB,cAAc,CAACiB,CAAC,KAAK;IAAE,GAAGA,CAAC;IAAEb,OAAO,EAAEc;EAAE,CAAC,CAAC,CAAC;;EAExE;EACA,MAAMG,eAAe,GAAGC,GAAG,IAAI;IAC7B,QAAQA,GAAG;MACT,KAAK,SAAS;QAAM,OAAO;UAAEC,eAAe,EAAE,mBAAmB;UAAEC,KAAK,EAAE;QAAoB,CAAC;MAC/F,KAAK,UAAU;QAAK,OAAO;UAAED,eAAe,EAAE,iBAAiB;UAAIC,KAAK,EAAE;QAAkB,CAAC;MAC7F,KAAK,aAAa;MAClB,KAAK,SAAS;QAAM,OAAO;UAAED,eAAe,EAAE,gBAAgB;UAAKC,KAAK,EAAE;QAAiB,CAAC;MAC5F,KAAK,SAAS;QAAM,OAAO;UAAED,eAAe,EAAE,mBAAmB;UAAEC,KAAK,EAAE;QAAoB,CAAC;MAC/F,KAAK,SAAS;QAAM,OAAO;UAAED,eAAe,EAAE,iBAAiB;UAAIC,KAAK,EAAE;QAAkB,CAAC;MAC7F,KAAK,QAAQ;QAAO,OAAO;UAAED,eAAe,EAAE,kBAAkB;UAAGC,KAAK,EAAE;QAAmB,CAAC;MAC9F,KAAK,QAAQ;QAAO,OAAO;UAAED,eAAe,EAAE,kBAAkB;UAAGC,KAAK,EAAE;QAAmB,CAAC;MAC9F;QAAoB,OAAO;UAAED,eAAe,EAAE,6BAA6B;UAAEC,KAAK,EAAE;QAAoB,CAAC;IAC3G;EACF,CAAC;;EAED;EACA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAKpD,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACqD,aAAa,EAAEC,gBAAgB,CAAC,GAAGtD,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACuD,UAAU,EAAEC,aAAa,CAAC,GAASxD,QAAQ,CAAC,EAAE,CAAC;EAEtD,MAAMyD,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAI,CAACN,YAAY,CAACO,IAAI,CAAC,CAAC,EAAE;IAC1B,IAAI,CAACL,aAAa,EAAE;MAClBG,aAAa,CAAC,oBAAoB,CAAC;MACnC;IACF;IACA,MAAMG,GAAG,GAAG;MAAEC,IAAI,EAAET,YAAY,CAACO,IAAI,CAAC,CAAC;MAAER,KAAK,EAAEG;IAAc,CAAC;IAC/D3B,cAAc,CAACkB,CAAC,KAAK;MAAE,GAAGA,CAAC;MAAEzB,MAAM,EAAE,CAAC,GAAGyB,CAAC,CAACzB,MAAM,EAAEwC,GAAG;IAAE,CAAC,CAAC,CAAC;IAC3DP,eAAe,CAAC,EAAE,CAAC;IACnBE,gBAAgB,CAAC,EAAE,CAAC;IACpBE,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC;EAED,MAAMK,WAAW,GAAGC,GAAG,IAAI;IACzB,MAAMC,OAAO,GAAG,CAAC,GAAGtC,WAAW,CAACN,MAAM,CAAC;IACvC4C,OAAO,CAACC,MAAM,CAACF,GAAG,EAAE,CAAC,CAAC;IACtBpC,cAAc,CAACkB,CAAC,KAAK;MAAE,GAAGA,CAAC;MAAEzB,MAAM,EAAE4C;IAAQ,CAAC,CAAC,CAAC;EAClD,CAAC;;EAED;EACA,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGlE,QAAQ,CAAC,CAAC,CAAC;EAE1C,MAAMmE,OAAO,GAAGP,IAAI,IAAI;IACvB,MAAMQ,CAAC,GAAGR,IAAI,CAACF,IAAI,CAAC,CAAC;IACrB,IAAI,CAACU,CAAC,EAAE;;IAER;IACA,MAAMC,OAAO,GAAG;MAAEtD,EAAE,EAAEY,IAAI,CAAC2C,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;MAAEZ,IAAI,EAAEQ,CAAC;MAAEK,SAAS,EAAE;IAAM,CAAC;IAC7E/C,cAAc,CAACkB,CAAC,KAAK;MAAE,GAAGA,CAAC;MAAExB,KAAK,EAAE,CAAC,GAAGwB,CAAC,CAACxB,KAAK,EAAEiD,OAAO;IAAE,CAAC,CAAC,CAAC;;IAE7D;IACAK,UAAU,CAAC,MAAM;MACf,IAAI5D,UAAU,CAAC6D,OAAO,EAAE;QACtB7D,UAAU,CAAC6D,OAAO,CAACC,KAAK,GAAG,EAAE,CAAC,CAAE;QAChC9D,UAAU,CAAC6D,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC,CAAK;MAClC;IACF,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAEC,MAAMC,UAAU,GAAG/D,EAAE,IAAI;IACvB,MAAMgD,OAAO,GAAGtC,WAAW,CAACL,KAAK,CAAC2D,GAAG,CAACX,CAAC,IACrCA,CAAC,CAACrD,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGqD,CAAC;MAAEK,SAAS,EAAE,CAACL,CAAC,CAACK;IAAU,CAAC,GAAGL,CACpD,CAAC;IACD1C,cAAc,CAACkB,CAAC,KAAK;MAAE,GAAGA,CAAC;MAAExB,KAAK,EAAE2C;IAAQ,CAAC,CAAC,CAAC;EACjD,CAAC;EAEF,MAAMiB,UAAU,GAAGjE,EAAE,IAAI;IACtB;IACAW,cAAc,CAACkB,CAAC,KAAK;MACnB,GAAGA,CAAC;MACJxB,KAAK,EAAEwB,CAAC,CAACxB,KAAK,CAAC2D,GAAG,CAACX,CAAC,IAClBA,CAAC,CAACrD,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGqD,CAAC;QAAEa,UAAU,EAAE;MAAK,CAAC,GAAGb,CAC7C;IACF,CAAC,CAAC,CAAC;IACH;IACAM,UAAU,CAAC,MAAM;MACfhD,cAAc,CAACkB,CAAC,KAAK;QACnB,GAAGA,CAAC;QACJxB,KAAK,EAAEwB,CAAC,CAACxB,KAAK,CAAC8D,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACrD,EAAE,KAAKA,EAAE;MACxC,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAMoE,UAAU,GAAO1D,WAAW,CAACL,KAAK,CAACgE,MAAM;EAC/C,MAAMC,cAAc,GAAG5D,WAAW,CAACL,KAAK,CAAC8D,MAAM,CAACd,CAAC,IAAIA,CAAC,CAACK,SAAS,CAAC,CAACW,MAAM;EACxE,MAAME,eAAe,GAAEH,UAAU,GAAGZ,IAAI,CAACgB,KAAK,CAACF,cAAc,GAAGF,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC;EAEtF,IAAIK,aAAa,GAAG,SAAS,CAAC,CAAC;EAChC,IAAIF,eAAe,IAAI,EAAE,IAAIA,eAAe,IAAI,EAAE,EAAE;IAClDE,aAAa,GAAG,SAAS,CAAC,CAAE;EAC9B,CAAC,MAAM,IAAIF,eAAe,GAAG,EAAE,IAAIA,eAAe,GAAG,GAAG,EAAE;IACxDE,aAAa,GAAG,SAAS,CAAC,CAAE;EAC9B,CAAC,MAAM,IAAIF,eAAe,KAAK,GAAG,EAAE;IAClCE,aAAa,GAAG,SAAS,CAAC,CAAE;EAC9B;;EAGE,oBACE9E,OAAA,CAACH,KAAK;IAACkF,OAAO,EAAE7E,KAAK,CAAC6E,OAAQ;IAAAC,QAAA,eAC5BhF,OAAA;MAAKiF,SAAS,EAAC,oBAAoB;MAAAD,QAAA,gBACjChF,OAAA;QAAKiF,SAAS,EAAC,oBAAoB;QAACC,OAAO,EAAEhF,KAAK,CAAC6E,OAAQ;QAAAC,QAAA,eACzDhF,OAAA,CAACP,CAAC;UAAC0F,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eAGNvF,OAAA;QAAIiF,SAAS,EAAC,wBAAwB;QAAAD,QAAA,EAAEjE,WAAW,CAACT;MAAK;QAAA8E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/DvF,OAAA;QAAGiF,SAAS,EAAC,8BAA8B;QAAAD,QAAA,EAAEjE,WAAW,CAACR;MAAW;QAAA6E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGzEvF,OAAA;QAAKiF,SAAS,EAAC,uBAAuB;QAAAD,QAAA,gBAEpChF,OAAA;UAAKiF,SAAS,EAAC,KAAK;UAAAD,QAAA,gBAClBhF,OAAA;YAAKiF,SAAS,EAAC,WAAW;YAAAD,QAAA,EAAC;UAAM;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvCvF,OAAA;YACEiF,SAAS,EAAC,iCAAiC;YAC3CO,KAAK,EAAEnD,eAAe,CAACtB,WAAW,CAACJ,MAAM,CAAE;YAAAqE,QAAA,EAE1CjE,WAAW,CAACJ;UAAM;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNvF,OAAA;UAAKiF,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BhF,OAAA;YAAKiF,SAAS,EAAC,WAAW;YAAAD,QAAA,EAAC;UAAW;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5CvF,OAAA;YAAKiF,SAAS,EAAC,uBAAuB;YAAAD,QAAA,eACpChF,OAAA;cACEyF,IAAI,EAAC,MAAM;cACXvB,KAAK,EAAEnD,WAAW,CAACH,SAAU;cAC7B8E,QAAQ,EAAEC,CAAC,IAAIxD,eAAe,CAACwD,CAAC,CAACC,MAAM,CAAC1B,KAAK;YAAE;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNvF,OAAA;UAAKiF,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BhF,OAAA;YAAKiF,SAAS,EAAC,WAAW;YAAAD,QAAA,EAAC;UAAe;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAChDvF,OAAA;YAAKiF,SAAS,EAAC,uBAAuB;YAAAD,QAAA,eACpChF,OAAA;cACEyF,IAAI,EAAC,MAAM;cACXvB,KAAK,EAAEnD,WAAW,CAACK,OAAQ;cAC3BsE,QAAQ,EAAEC,CAAC,IAAIvD,aAAa,CAACuD,CAAC,CAACC,MAAM,CAAC1B,KAAK;YAAE;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNvF,OAAA;UAAKiF,SAAS,EAAC,KAAK;UAAAD,QAAA,gBAClBhF,OAAA;YAAKiF,SAAS,EAAC,WAAW;YAAAD,QAAA,EAAC;UAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1CvF,OAAA;YACEiF,SAAS,EAAC,iCAAiC;YAC3CO,KAAK,EAAEnD,eAAe,CAACtB,WAAW,CAACM,QAAQ,CAAE;YAAA2D,QAAA,GAE5CjE,WAAW,CAACM,QAAQ,KAAK,SAAS,iBAAIrB,OAAA,CAACJ,KAAK;cAACuF,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACzDxE,WAAW,CAACM,QAAQ;UAAA;YAAA+D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNvF,OAAA;UAAKiF,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BhF,OAAA;YAAKiF,SAAS,EAAC,WAAW;YAAAD,QAAA,EAAC;UAAI;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrCvF,OAAA;YAAKiF,SAAS,EAAC,yBAAyB;YAAAD,QAAA,gBACtChF,OAAA;cAAKiF,SAAS,EAAC,sBAAsB;cAAAD,QAAA,gBACnChF,OAAA;gBACEiF,SAAS,EAAC,gBAAgB;gBAC1BQ,IAAI,EAAC,MAAM;gBACXI,WAAW,EAAC,+DAAa;gBACzB3B,KAAK,EAAEzB,YAAa;gBACpBiD,QAAQ,EAAEC,CAAC,IAAI;kBACbjD,eAAe,CAACiD,CAAC,CAACC,MAAM,CAAC1B,KAAK,CAAC;kBAC/BpB,aAAa,CAAC,EAAE,CAAC;gBACnB;cAAE;gBAAAsC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACFvF,OAAA;gBAAKiF,SAAS,EAAC,uBAAuB;gBAAAD,QAAA,EACnC,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAACX,GAAG,CAAC7B,KAAK,iBAC3CxC,OAAA;kBAEEiF,SAAS,EAAG,wBAAuBtC,aAAa,KAAKH,KAAK,GAAG,WAAW,GAAG,EAAG,EAAE;kBAChFgD,KAAK,EAAE;oBAAEjD,eAAe,EAAG,SAAQC,KAAM;kBAAO,CAAE;kBAClD0C,OAAO,EAAEA,CAAA,KAAM;oBACbtC,gBAAgB,CAACJ,KAAK,CAAC;oBACvBM,aAAa,CAAC,EAAE,CAAC;kBACnB;gBAAE,GANGN,KAAK;kBAAA4C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAOX,CACF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACLvF,OAAA;gBAAQiF,SAAS,EAAC,SAAS;gBAACC,OAAO,EAAEnC,QAAS;gBAAAiC,QAAA,EAAC;cAE7D;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACO,CAAC,EACL1C,UAAU,iBAAI7C,OAAA;cAAKiF,SAAS,EAAC,aAAa;cAAAD,QAAA,EAAEnC;YAAU;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9DvF,OAAA;cAAKiF,SAAS,EAAC,sBAAsB;cAAAD,QAAA,EAClCjE,WAAW,CAACN,MAAM,CAAC4D,GAAG,CAAC,CAACpB,GAAG,EAAE6C,CAAC,kBAC7B9F,OAAA;gBAEEiF,SAAS,EAAC,qBAAqB;gBAC/BO,KAAK,EAAE;kBACLhD,KAAK,EAAG,SAAQS,GAAG,CAACT,KAAM,OAAM;kBAChCD,eAAe,EAAG,SAAQU,GAAG,CAACT,KAAM;gBACtC,CAAE;gBAAAwC,QAAA,gBAEFhF,OAAA;kBAAAgF,QAAA,EAAO/B,GAAG,CAACC;gBAAI;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACvBvF,OAAA,CAACL,KAAK;kBACJsF,SAAS,EAAC,uBAAuB;kBACjCE,IAAI,EAAE,EAAG;kBACTD,OAAO,EAAEA,CAAA,KAAM/B,WAAW,CAAC2C,CAAC;gBAAE;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA,GAZGO,CAAC;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAaH,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNvF,OAAA;QAAKiF,SAAS,EAAC,eAAe;QAAAD,QAAA,gBAC5BhF,OAAA;UAAMiF,SAAS,EAAC,qBAAqB;UAAAD,QAAA,EAAC;QAAO;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACpDvF,OAAA;UAAMiF,SAAS,EAAC,cAAc;UAAAD,QAAA,EAAC;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC3CvF,OAAA;UAAMiF,SAAS,EAAC,cAAc;UAAAD,QAAA,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjDvF,OAAA;UAAMiF,SAAS,EAAC,cAAc;UAAAD,QAAA,EAAC;QAAU;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,eAGNvF,OAAA;QAAKiF,SAAS,EAAC,2BAA2B;QAAAD,QAAA,eACxChF,OAAA;UAAAgF,QAAA,GAAI,8CAAS,EAACL,cAAc,EAAC,GAAC,EAACF,UAAU,EAAC,GAAC;QAAA;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,eACNvF,OAAA;QAAKiF,SAAS,EAAC,uBAAuB;QAAAD,QAAA,eACpChF,OAAA;UACEiF,SAAS,EAAC,wBAAwB;UAClCO,KAAK,EAAE;YAAEO,KAAK,EAAG,GAAEnB,eAAgB,GAAE;YAAErC,eAAe,EAAEuC;UAAc;QAAE;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNvF,OAAA;QAAKiF,SAAS,EAAC,gBAAgB;QAAAD,QAAA,EAC5BjE,WAAW,CAACL,KAAK,CAAC2D,GAAG,CAAC2B,IAAI,iBACzBhG,OAAA;UAEViF,SAAS,EAAG,qBAAoBe,IAAI,CAACzB,UAAU,GAAG,WAAW,GAAG,EAAG,EAAE;UAAAS,QAAA,gBAEzDhF,OAAA;YAAOiF,SAAS,EAAC,iBAAiB;YAAAD,QAAA,gBAChChF,OAAA;cACEyF,IAAI,EAAC,UAAU;cACfQ,OAAO,EAAED,IAAI,CAACjC,SAAU;cACxB2B,QAAQ,EAAEA,CAAA,KAAMtB,UAAU,CAAC4B,IAAI,CAAC3F,EAAE;YAAE;cAAA+E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC,eACFvF,OAAA;cAAMiF,SAAS,EAAC;YAAW;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,eACNvF,OAAA;YAAMiF,SAAS,EAAG,YAAWe,IAAI,CAACjC,SAAS,GAAG,YAAY,GAAG,EAAG,EAAE;YAAAiB,QAAA,EAC3EgB,IAAI,CAAC9C;UAAI;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eACEvF,OAAA,CAACL,KAAK;YACJsF,SAAS,EAAC,sBAAsB;YAChCE,IAAI,EAAE,EAAG;YACTD,OAAO,EAAEA,CAAA,KAAMZ,UAAU,CAAC0B,IAAI,CAAC3F,EAAE;UAAE;YAAA+E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC;QAAA,GAlBTS,IAAI,CAAC3F,EAAE;UAAA+E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBG,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGLvF,OAAA,CAACF,QAAQ;QACVoG,GAAG,EAAE9F,UAAW;QAChB+F,YAAY,EAAC,EAAE;QACfN,WAAW,EAAC,uFAAiB;QAC7BO,QAAQ,EAAE3C,OAAQ;QAClB4C,SAAS;MAAA;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEZ;AAACpF,EAAA,CAzUQF,QAAQ;AAAAqG,EAAA,GAARrG,QAAQ;AA2UjB,eAAeA,QAAQ;AAAC,IAAAqG,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}