{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\Desktop\\\\kanbanapp\\\\kanban-front\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport Board from \"./Components/Board/Board\";\nimport { Sun, Moon } from \"lucide-react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [boards, setBoards] = useState([]);\n  const [darkTheme, setDarkTheme] = useState(localStorage.getItem(\"kanban-theme\") === \"dark\");\n  const statuses = [\"Очередь\", \"В работе\", \"На проверке\", \"Готово\"];\n\n  // Загрузка данных\n  const fetchBoardData = () => {\n    axios.get(\"http://localhost:3001/api/board\").then(res => {\n      const tasks = res.data.tasks || [];\n      const grouped = statuses.map((st, i) => ({\n        id: `${i + 1}`,\n        title: st,\n        cards: tasks.filter(t => t.status === st)\n      }));\n      setBoards(grouped);\n    }).catch(err => console.error(\"Ошибка загрузки:\", err));\n  };\n  useEffect(fetchBoardData, []);\n\n  // Сохранение темы\n  useEffect(() => {\n    localStorage.setItem(\"kanban-theme\", darkTheme ? \"dark\" : \"light\");\n  }, [darkTheme]);\n\n  // Добавление\n  const addCardHandler = (boardId, cardData) => {\n    const board = boards.find(b => b.id === boardId);\n    if (!board) return;\n    const newCard = {\n      ...cardData,\n      status: board.title\n    };\n    setBoards(bs => bs.map(b => b.id === boardId ? {\n      ...b,\n      cards: [...b.cards, newCard]\n    } : b));\n    axios.post(\"http://localhost:3001/api/addTask\", {\n      card: newCard\n    });\n  };\n\n  // Обновление\n  const updateCard = (boardId, cardId, updatedCard) => {\n    setBoards(bs => bs.map(b => b.id === boardId ? {\n      ...b,\n      cards: b.cards.map(c => c.id === cardId ? updatedCard : c)\n    } : b));\n    axios.post(\"http://localhost:3001/api/editTask\", {\n      card: updatedCard\n    }).catch(err => console.error(\"Ошибка обновления:\", err));\n  };\n\n  // Удаление\n  const removeCard = (boardId, cardId) => {\n    setBoards(bs => bs.map(b => b.id === boardId ? {\n      ...b,\n      cards: b.cards.filter(c => c.id !== cardId)\n    } : b));\n  };\n\n  // Drag & Drop\n  const onDragEnd = result => {\n    const {\n      source,\n      destination\n    } = result;\n    if (!destination) return;\n    const srcIdx = boards.findIndex(b => b.id === source.droppableId);\n    const dstIdx = boards.findIndex(b => b.id === destination.droppableId);\n    if (srcIdx < 0 || dstIdx < 0) return;\n    const srcBoard = boards[srcIdx];\n    const dstBoard = boards[dstIdx];\n    const srcCards = [...srcBoard.cards];\n    const [moved] = srcCards.splice(source.index, 1);\n    moved.status = dstBoard.title;\n    const dstCards = [...dstBoard.cards];\n    dstCards.splice(destination.index, 0, moved);\n    const updated = [...boards];\n    updated[srcIdx] = {\n      ...srcBoard,\n      cards: srcCards\n    };\n    updated[dstIdx] = {\n      ...dstBoard,\n      cards: dstCards\n    };\n    setBoards(updated);\n    axios.post(\"http://localhost:3001/api/updateTask\", {\n      id: moved.id,\n      status: moved.status\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${darkTheme ? \"dark\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Kanban Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theme-toggle\",\n        onClick: () => setDarkTheme(d => !d),\n        children: darkTheme ? /*#__PURE__*/_jsxDEV(Sun, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: onDragEnd,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app_boards_container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app_boards\",\n          children: boards.map(board => /*#__PURE__*/_jsxDEV(Board, {\n            board: board,\n            addCard: addCardHandler,\n            updateCard: updateCard,\n            removeCard: removeCard,\n            darkTheme: darkTheme\n          }, board.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"0XwD2GJJM97FeB/XYhWRH6DV52U=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","DragDropContext","Board","Sun","Moon","jsxDEV","_jsxDEV","App","_s","boards","setBoards","darkTheme","setDarkTheme","localStorage","getItem","statuses","fetchBoardData","get","then","res","tasks","data","grouped","map","st","i","id","title","cards","filter","t","status","catch","err","console","error","setItem","addCardHandler","boardId","cardData","board","find","b","newCard","bs","post","card","updateCard","cardId","updatedCard","c","removeCard","onDragEnd","result","source","destination","srcIdx","findIndex","droppableId","dstIdx","srcBoard","dstBoard","srcCards","moved","splice","index","dstCards","updated","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","d","size","addCard","_c","$RefreshReg$"],"sources":["C:/Users/aleks/Desktop/kanbanapp/kanban-front/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport Board from \"./Components/Board/Board\";\nimport { Sun, Moon } from \"lucide-react\";\nimport \"./App.css\";\n\nexport default function App() {\n  const [boards, setBoards] = useState([]);\n  const [darkTheme, setDarkTheme] = useState(\n    localStorage.getItem(\"kanban-theme\") === \"dark\"\n  );\n\n  const statuses = [\"Очередь\", \"В работе\", \"На проверке\", \"Готово\"];\n\n  // Загрузка данных\n  const fetchBoardData = () => {\n    axios\n      .get(\"http://localhost:3001/api/board\")\n      .then((res) => {\n        const tasks = res.data.tasks || [];\n        const grouped = statuses.map((st, i) => ({\n          id: `${i + 1}`,\n          title: st,\n          cards: tasks.filter((t) => t.status === st),\n        }));\n        setBoards(grouped);\n      })\n      .catch((err) => console.error(\"Ошибка загрузки:\", err));\n  };\n  useEffect(fetchBoardData, []);\n\n  // Сохранение темы\n  useEffect(() => {\n    localStorage.setItem(\"kanban-theme\", darkTheme ? \"dark\" : \"light\");\n  }, [darkTheme]);\n\n  // Добавление\n  const addCardHandler = (boardId, cardData) => {\n    const board = boards.find((b) => b.id === boardId);\n    if (!board) return;\n    const newCard = { ...cardData, status: board.title };\n    setBoards((bs) =>\n      bs.map((b) =>\n        b.id === boardId ? { ...b, cards: [...b.cards, newCard] } : b\n      )\n    );\n    axios.post(\"http://localhost:3001/api/addTask\", { card: newCard });\n  };\n\n  // Обновление\n  const updateCard = (boardId, cardId, updatedCard) => {\n    setBoards((bs) =>\n      bs.map((b) =>\n        b.id === boardId\n          ? {\n              ...b,\n              cards: b.cards.map((c) => (c.id === cardId ? updatedCard : c)),\n            }\n          : b\n      )\n    );\n    axios\n      .post(\"http://localhost:3001/api/editTask\", { card: updatedCard })\n      .catch((err) => console.error(\"Ошибка обновления:\", err));\n  };\n\n  // Удаление\n  const removeCard = (boardId, cardId) => {\n    setBoards((bs) =>\n      bs.map((b) =>\n        b.id === boardId\n          ? { ...b, cards: b.cards.filter((c) => c.id !== cardId) }\n          : b\n      )\n    );\n  };\n\n  // Drag & Drop\n  const onDragEnd = (result) => {\n    const { source, destination } = result;\n    if (!destination) return;\n    const srcIdx = boards.findIndex((b) => b.id === source.droppableId);\n    const dstIdx = boards.findIndex((b) => b.id === destination.droppableId);\n    if (srcIdx < 0 || dstIdx < 0) return;\n    const srcBoard = boards[srcIdx];\n    const dstBoard = boards[dstIdx];\n    const srcCards = [...srcBoard.cards];\n    const [moved] = srcCards.splice(source.index, 1);\n    moved.status = dstBoard.title;\n    const dstCards = [...dstBoard.cards];\n    dstCards.splice(destination.index, 0, moved);\n    const updated = [...boards];\n    updated[srcIdx] = { ...srcBoard, cards: srcCards };\n    updated[dstIdx] = { ...dstBoard, cards: dstCards };\n    setBoards(updated);\n    axios.post(\"http://localhost:3001/api/updateTask\", {\n      id: moved.id,\n      status: moved.status,\n    });\n  };\n\n  return (\n    <div className={`app ${darkTheme ? \"dark\" : \"\"}`}>\n      <div className=\"app_nav\">\n        <h1>Kanban Board</h1>\n        <div\n          className=\"theme-toggle\"\n          onClick={() => setDarkTheme((d) => !d)}\n        >\n          {darkTheme ? <Sun size={20} /> : <Moon size={20} />}\n        </div>\n      </div>\n\n      <DragDropContext onDragEnd={onDragEnd}>\n        <div className=\"app_boards_container\">\n          <div className=\"app_boards\">\n            {boards.map((board) => (\n              <Board\n                key={board.id}\n                board={board}\n                addCard={addCardHandler}\n                updateCard={updateCard}\n                removeCard={removeCard}\n                darkTheme={darkTheme}\n              />\n            ))}\n          </div>\n        </div>\n      </DragDropContext>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}