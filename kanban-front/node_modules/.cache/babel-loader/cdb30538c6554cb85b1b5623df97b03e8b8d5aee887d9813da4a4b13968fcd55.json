{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./Modal.css\";import{jsx as _jsx}from\"react/jsx-runtime\";function Modal(_ref){let{children,onClose}=_ref;const[visible,setVisible]=useState(false);// при маунте включаем анимацию появления\nuseEffect(()=>{requestAnimationFrame(()=>setVisible(true));},[]);// по Escape — запускаем закрытие\nuseEffect(()=>{const onKey=e=>{if(e.key===\"Escape\")startClose();};document.addEventListener(\"keydown\",onKey);return()=>document.removeEventListener(\"keydown\",onKey);},[]);const startClose=()=>{setVisible(false);// ждём окончания анимации (минимальное время — 200ms)\nsetTimeout(()=>{onClose&&onClose();},200);};const handleOverlayClick=()=>{startClose();};const handleContentClick=e=>{e.stopPropagation();};return/*#__PURE__*/_jsx(\"div\",{className:`modal ${visible?\"show\":\"hide\"}`,onClick:handleOverlayClick,children:/*#__PURE__*/_jsx(\"div\",{className:`modal_content ${visible?\"show\":\"hide\"}`,onClick:handleContentClick,children:children})});}export default Modal;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","Modal","_ref","children","onClose","visible","setVisible","requestAnimationFrame","onKey","e","key","startClose","document","addEventListener","removeEventListener","setTimeout","handleOverlayClick","handleContentClick","stopPropagation","className","onClick"],"sources":["C:/Users/aleks/Desktop/kanbanapp/kanban-front/src/Components/Modal/Modal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Modal.css\";\n\nfunction Modal({ children, onClose }) {\n  const [visible, setVisible] = useState(false);\n\n  // при маунте включаем анимацию появления\n  useEffect(() => {\n    requestAnimationFrame(() => setVisible(true));\n  }, []);\n\n  // по Escape — запускаем закрытие\n  useEffect(() => {\n    const onKey = (e) => {\n      if (e.key === \"Escape\") startClose();\n    };\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, []);\n\n  const startClose = () => {\n    setVisible(false);\n    // ждём окончания анимации (минимальное время — 200ms)\n    setTimeout(() => {\n      onClose && onClose();\n    }, 200);\n  };\n\n  const handleOverlayClick = () => {\n    startClose();\n  };\n\n  const handleContentClick = (e) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      className={`modal ${visible ? \"show\" : \"hide\"}`}\n      onClick={handleOverlayClick}\n    >\n      <div\n        className={`modal_content ${visible ? \"show\" : \"hide\"}`}\n        onClick={handleContentClick}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErB,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAwB,IAAvB,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAClC,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CAE7C;AACAD,SAAS,CAAC,IAAM,CACdU,qBAAqB,CAAC,IAAMD,UAAU,CAAC,IAAI,CAAC,CAAC,CAC/C,CAAC,CAAE,EAAE,CAAC,CAEN;AACAT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,KAAK,CAAIC,CAAC,EAAK,CACnB,GAAIA,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAEC,UAAU,CAAC,CAAC,CACtC,CAAC,CACDC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEL,KAAK,CAAC,CAC3C,MAAO,IAAMI,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEN,KAAK,CAAC,CAC7D,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,UAAU,CAAGA,CAAA,GAAM,CACvBL,UAAU,CAAC,KAAK,CAAC,CACjB;AACAS,UAAU,CAAC,IAAM,CACfX,OAAO,EAAIA,OAAO,CAAC,CAAC,CACtB,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,KAAM,CAAAY,kBAAkB,CAAGA,CAAA,GAAM,CAC/BL,UAAU,CAAC,CAAC,CACd,CAAC,CAED,KAAM,CAAAM,kBAAkB,CAAIR,CAAC,EAAK,CAChCA,CAAC,CAACS,eAAe,CAAC,CAAC,CACrB,CAAC,CAED,mBACElB,IAAA,QACEmB,SAAS,CAAG,SAAQd,OAAO,CAAG,MAAM,CAAG,MAAO,EAAE,CAChDe,OAAO,CAAEJ,kBAAmB,CAAAb,QAAA,cAE5BH,IAAA,QACEmB,SAAS,CAAG,iBAAgBd,OAAO,CAAG,MAAM,CAAG,MAAO,EAAE,CACxDe,OAAO,CAAEH,kBAAmB,CAAAd,QAAA,CAE3BA,QAAQ,CACN,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAF,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}